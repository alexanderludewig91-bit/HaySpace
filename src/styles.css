:root{
  --bg0:#050814;
  --bg1:#0a1230;
  --glass:rgba(255,255,255,.08);
  --stroke:rgba(255,255,255,.14);
  --text:rgba(245,250,255,.92);
  --muted:rgba(245,250,255,.62);
  --good:#4de3ff;
  --cool:#ffd166;
  --accent:#6cff9a;
  --danger:#ff3b6b;
}

html,body{height:100%;margin:0;background:radial-gradient(1200px 800px at 60% 20%, #1a2a6c30, transparent 55%),
  radial-gradient(900px 650px at 30% 75%, #00d4ff1f, transparent 60%),
  linear-gradient(180deg,var(--bg0),var(--bg1));
  color:var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

#wrap{height:100%;display:grid;place-items:center;}

canvas{
  width:min(1100px, 94vw);
  aspect-ratio: 16 / 9;
  border-radius: 20px;
  border:1px solid var(--stroke);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  box-shadow:
    0 24px 90px rgba(0,0,0,.65),
    0 2px 0 rgba(255,255,255,.08) inset;
}

/* Hide canvas when title screen, level select, or warning is visible */
.title-screen ~ #wrap canvas,
body:has(.title-screen:not(.hidden)) #wrap canvas,
.level-select-screen ~ #wrap canvas,
body:has(.level-select-screen:not(.hidden)) #wrap canvas,
body:has(#newGameWarningContainer:not(.hidden)) #wrap canvas {
  opacity: 0;
  pointer-events: none;
}

/* Warning Overlay Container */
#newGameWarningContainer{
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  z-index: 100;
}

/* Dunkles Overlay hinter der Warnmeldung */
.warning-overlay{
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(4px);
  z-index: 1;
}

/* Warnmeldung über dem Overlay */
#newGameWarningContainer .card{
  position: relative;
  z-index: 2;
}

#hud{display:none;}

.panel{
  pointer-events:none;
  padding:12px 14px;
  border-radius: 16px;
  border:1px solid var(--stroke);
  background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
  backdrop-filter: blur(16px);
  box-shadow: 0 12px 40px rgba(0,0,0,.35);
}

.row{display:flex;gap:12px;align-items:center;flex-wrap:wrap;}
.k{color:var(--muted);font-size:12px;letter-spacing:.2px}
b{font-variant-numeric: tabular-nums;}

.pill{
  display:inline-flex;align-items:center;gap:8px;
  padding:6px 10px;border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.14);
  color: rgba(245,250,255,.86);
  font-size: 12px;
}

.bar{width:260px;height:12px;border-radius:999px;overflow:hidden;background:rgba(255,255,255,.10);border:1px solid rgba(255,255,255,.12)}
.bar > i{display:block;height:100%;width:60%;background: linear-gradient(90deg, var(--accent), var(--good));}
.bar.heat > i{background: linear-gradient(90deg, var(--cool), var(--danger));}
.bar.boss > i{background: linear-gradient(90deg, #ff3b6b, #ff9f1c);}

#overlay{position:fixed;inset:0;display:grid;place-items:center;
  background:
    radial-gradient(900px 520px at 50% 30%, rgba(255,255,255,.10), rgba(0,0,0,.55) 55%, rgba(0,0,0,.75));
}
#overlay.hidden{display:none;}
.hidden{display:none !important;}

/* Animationen für Space-Theme Übergang */
@keyframes beamOut {
  0% {
    opacity: 1;
    transform: scale(1) translateY(0);
    filter: brightness(1);
  }
  50% {
    opacity: 0.5;
    transform: scale(0.8) translateY(-20px);
    filter: brightness(1.5);
    box-shadow: 
      0 0 40px rgba(77, 227, 255, 0.8),
      0 0 80px rgba(77, 227, 255, 0.5),
      0 12px 30px rgba(0,0,0,.25);
  }
  100% {
    opacity: 0;
    transform: scale(0.3) translateY(-40px);
    filter: brightness(2);
    box-shadow: 
      0 0 60px rgba(77, 227, 255, 1),
      0 0 120px rgba(77, 227, 255, 0.6),
      0 0 180px rgba(77, 227, 255, 0.3);
  }
}

@keyframes beamIn {
  0% {
    opacity: 0;
    transform: scale(0.3) translateY(40px);
    filter: brightness(2);
    box-shadow: 
      0 0 60px rgba(77, 227, 255, 1),
      0 0 120px rgba(77, 227, 255, 0.6),
      0 0 180px rgba(77, 227, 255, 0.3);
  }
  50% {
    opacity: 0.5;
    transform: scale(0.8) translateY(20px);
    filter: brightness(1.5);
    box-shadow: 
      0 0 40px rgba(77, 227, 255, 0.8),
      0 0 80px rgba(77, 227, 255, 0.5),
      0 12px 30px rgba(0,0,0,.25);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
    filter: brightness(1);
  }
}

/* Animation-Klassen */
.start-journey-exit {
  animation: beamOut 0.6s ease-out forwards;
  pointer-events: none;
}

.main-menu-enter {
  animation: beamIn 0.6s ease-out forwards;
}

.main-menu-enter-delay-1 {
  animation: beamIn 0.6s ease-out 0.1s forwards;
  opacity: 0;
}

.main-menu-enter-delay-2 {
  animation: beamIn 0.6s ease-out 0.2s forwards;
  opacity: 0;
}

.main-menu-enter-delay-3 {
  animation: beamIn 0.6s ease-out 0.3s forwards;
  opacity: 0;
}

/* Sanftere Animation für Levelauswahl */
@keyframes levelSelectEnter {
  0% {
    opacity: 0;
    transform: scale(0.85) translateY(15px);
    filter: brightness(1.2);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
    filter: brightness(1);
  }
}

.level-select-enter {
  animation: levelSelectEnter 0.6s ease-out forwards;
  opacity: 0;
}

/* Sanftere Animation für Level-Buttons */
@keyframes levelButtonEnter {
  0% {
    opacity: 0;
    transform: scale(0.9) translateY(10px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.level-button-enter {
  animation: levelButtonEnter 0.5s ease-out forwards;
  opacity: 0;
}

.level-button-enter-delay-1 {
  animation: levelButtonEnter 0.5s ease-out 0.1s forwards;
  opacity: 0;
}

.level-button-enter-delay-2 {
  animation: levelButtonEnter 0.5s ease-out 0.2s forwards;
  opacity: 0;
}

/* Title Screen with Background Image */
.title-screen{
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  overflow: hidden;
  background: #000000; /* Schwarzer Hintergrund für den Rest des Bildschirms */
}

.title-screen-bg{
  position: absolute;
  inset: 0;
  background-image: url('/hayspace-cover.png');
  background-size: contain; /* Zeigt das Bild in Originalauflösung ohne Streckung */
  background-position: center;
  background-repeat: no-repeat;
  z-index: 0;
}

.title-starfield-canvas{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
  pointer-events: none; /* Damit Buttons noch klickbar sind */
}

/* Level Select Screen */
.level-select-screen{
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  overflow: hidden;
  background: #000000; /* Schwarzer Hintergrund für den Rest des Bildschirms */
}

.level-select-content{
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
}

/* Level Select Buttons im neuen Style */
#levelList .btn{
  background: linear-gradient(180deg, rgba(20, 25, 40, 0.95), rgba(10, 15, 30, 0.95)); /* Matt, undurchsichtig */
  backdrop-filter: none; /* Kein Blur für matten Look */
  font-family: 'Orbitron', ui-sans-serif, system-ui, sans-serif; /* Spacige Schriftart */
  letter-spacing: 1.2px;
  text-transform: uppercase;
  font-weight: 700;
  border: 2.5px solid rgba(77, 227, 255, 0.75); /* Helle cyan-blaue Umrandung */
  box-shadow: 
    0 0 25px rgba(77, 227, 255, 0.3), /* Leichter Glow-Effekt */
    0 15px 38px rgba(0,0,0,.25),
    0 2.5px 0 rgba(255,255,255,.12) inset;
  color: rgba(245,250,255,.94);
  font-size: 18px;
  padding: 20px 30px;
}

/* Hauptmenü-Karte Styling */
#mainMenuSection .card{
  display: flex;
  flex-direction: column;
  padding: 24px;
  width: min(500px, 92vw) !important; /* Kleinere Startgröße für Hauptmenü - !important um Standard-Card-Größe zu überschreiben */
  max-width: 500px !important;
  transition: width 0.6s ease-out;
}

/* Animation für Karten-Größenänderung */
@keyframes cardExpand {
  from {
    width: min(500px, 92vw) !important;
    max-width: 500px !important;
  }
  to {
    width: min(860px, 92vw) !important;
    max-width: 860px !important;
  }
}

.card-expanding {
  animation: cardExpand 0.6s ease-out forwards;
}

#mainMenuButtons{
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* Back to Title Button im Level Select */
#levelSelect #backToTitleBtn{
  background: linear-gradient(180deg, rgba(20, 25, 40, 0.95), rgba(10, 15, 30, 0.95)); /* Matt, undurchsichtig */
  backdrop-filter: none; /* Kein Blur für matten Look */
  font-family: 'Orbitron', ui-sans-serif, system-ui, sans-serif; /* Spacige Schriftart */
  letter-spacing: 1.5px;
  text-transform: uppercase;
  font-weight: 700;
  border: 2.5px solid rgba(77, 227, 255, 0.75); /* Helle cyan-blaue Umrandung */
  box-shadow: 
    0 0 25px rgba(77, 227, 255, 0.3), /* Leichter Glow-Effekt */
    0 15px 38px rgba(0,0,0,.25),
    0 2.5px 0 rgba(255,255,255,.12) inset;
}

/* Pause Menu Buttons im neuen Style */
#pauseMenu .btn-large{
  background: linear-gradient(180deg, rgba(20, 25, 40, 0.95), rgba(10, 15, 30, 0.95)); /* Matt, undurchsichtig */
  backdrop-filter: none; /* Kein Blur für matten Look */
  font-family: 'Orbitron', ui-sans-serif, system-ui, sans-serif; /* Spacige Schriftart */
  letter-spacing: 1.5px; /* 25% größer: 1.2px * 1.25 */
  text-transform: uppercase; /* Großbuchstaben für spacigen Look */
  font-weight: 700;
  border: 2.5px solid rgba(77, 227, 255, 0.75); /* Helle cyan-blaue Umrandung, etwas dicker */
  box-shadow: 
    0 0 25px rgba(77, 227, 255, 0.3), /* Leichter Glow-Effekt, etwas größer */
    0 15px 38px rgba(0,0,0,.25), /* 25% größer */
    0 2.5px 0 rgba(255,255,255,.12) inset; /* 25% größer */
}

/* Level Complete und Game Complete Buttons im neuen Style */
#levelComplete .btn-large,
#gameComplete .btn-large{
  background: linear-gradient(180deg, rgba(20, 25, 40, 0.95), rgba(10, 15, 30, 0.95)); /* Matt, undurchsichtig */
  backdrop-filter: none; /* Kein Blur für matten Look */
  font-family: 'Orbitron', ui-sans-serif, system-ui, sans-serif; /* Spacige Schriftart */
  letter-spacing: 1.5px; /* 25% größer: 1.2px * 1.25 */
  text-transform: uppercase; /* Großbuchstaben für spacigen Look */
  font-weight: 700;
  border: 2.5px solid rgba(77, 227, 255, 0.75); /* Helle cyan-blaue Umrandung, etwas dicker */
  box-shadow: 
    0 0 25px rgba(77, 227, 255, 0.3), /* Leichter Glow-Effekt, etwas größer */
    0 15px 38px rgba(0,0,0,.25), /* 25% größer */
    0 2.5px 0 rgba(255,255,255,.12) inset; /* 25% größer */
  min-width: 300px; /* Gleiche Mindestbreite für beide Buttons */
  flex: 1; /* Buttons nehmen gleichen Platz ein */
  max-width: 300px; /* Maximale Breite, damit sie nicht zu groß werden */
}

.title-screen-content{
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
}

.title-section{
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
}

.btn-large{
  min-width: 300px; /* 25% größer: 240px * 1.25 */
  padding: 20px 30px; /* 25% größer: 16px/24px * 1.25 */
  font-size: 20px; /* 25% größer: 16px * 1.25 */
  font-weight: 600;
  letter-spacing: 0.5px;
  justify-content: center; /* Text zentrieren */
}

/* Spezifischer Style für den Start Journey Button */
#startJourneyBtn{
  background: linear-gradient(180deg, rgba(20, 25, 40, 0.95), rgba(10, 15, 30, 0.95)); /* Matt, undurchsichtig */
  backdrop-filter: none; /* Kein Blur für matten Look */
  font-family: 'Orbitron', ui-sans-serif, system-ui, sans-serif; /* Spacige Schriftart */
  letter-spacing: 1.5px; /* 25% größer: 1.2px * 1.25 */
  text-transform: uppercase; /* Großbuchstaben für spacigen Look */
  font-weight: 700;
  border: 2.5px solid rgba(77, 227, 255, 0.75); /* Helle cyan-blaue Umrandung, etwas dicker */
  box-shadow: 
    0 0 25px rgba(77, 227, 255, 0.3), /* Leichter Glow-Effekt, etwas größer */
    0 15px 38px rgba(0,0,0,.25), /* 25% größer */
    0 2.5px 0 rgba(255,255,255,.12) inset; /* 25% größer */
}

/* Gleicher Style für alle Buttons im Hauptmenü */
#mainMenuSection .btn-large{
  background: linear-gradient(180deg, rgba(20, 25, 40, 0.95), rgba(10, 15, 30, 0.95)); /* Matt, undurchsichtig */
  backdrop-filter: none; /* Kein Blur für matten Look */
  font-family: 'Orbitron', ui-sans-serif, system-ui, sans-serif; /* Spacige Schriftart */
  letter-spacing: 1.5px; /* 25% größer: 1.2px * 1.25 */
  text-transform: uppercase; /* Großbuchstaben für spacigen Look */
  font-weight: 700;
  border: 2.5px solid rgba(77, 227, 255, 0.75); /* Helle cyan-blaue Umrandung, etwas dicker */
  box-shadow: 
    0 0 25px rgba(77, 227, 255, 0.3), /* Leichter Glow-Effekt, etwas größer */
    0 15px 38px rgba(0,0,0,.25), /* 25% größer */
    0 2.5px 0 rgba(255,255,255,.12) inset; /* 25% größer */
}

/* Style für Warnmeldungs-Buttons */
#newGameWarning .btn-large{
  background: linear-gradient(180deg, rgba(20, 25, 40, 0.95), rgba(10, 15, 30, 0.95)); /* Matt, undurchsichtig */
  backdrop-filter: none; /* Kein Blur für matten Look */
  font-family: 'Orbitron', ui-sans-serif, system-ui, sans-serif; /* Spacige Schriftart */
  letter-spacing: 1.5px; /* 25% größer: 1.2px * 1.25 */
  text-transform: uppercase; /* Großbuchstaben für spacigen Look */
  font-weight: 700;
  border: 2.5px solid rgba(77, 227, 255, 0.75); /* Helle cyan-blaue Umrandung, etwas dicker */
  box-shadow: 
    0 0 25px rgba(77, 227, 255, 0.3), /* Leichter Glow-Effekt, etwas größer */
    0 15px 38px rgba(0,0,0,.25), /* 25% größer */
    0 2.5px 0 rgba(255,255,255,.12) inset; /* 25% größer */
  min-width: 300px; /* Gleiche Mindestbreite für beide Buttons */
  flex: 1; /* Buttons nehmen gleichen Platz ein */
  max-width: 300px; /* Maximale Breite, damit sie nicht zu groß werden */
}

/* Spezieller Style für den Bestätigungs-Button (kann rot/orange sein für Warnung) */
#confirmNewGameBtn{
  border: 2.5px solid rgba(255, 59, 107, 0.75); /* Rote Umrandung für Warnung */
  box-shadow: 
    0 0 25px rgba(255, 59, 107, 0.3), /* Roter Glow-Effekt */
    0 15px 38px rgba(0,0,0,.25),
    0 2.5px 0 rgba(255,255,255,.12) inset;
}

.card{
  width:min(860px, 92vw);
  padding:20px 20px 16px;
  border-radius: 22px;
  border:1px solid rgba(255,255,255,.14);
  background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
  backdrop-filter: blur(18px);
  box-shadow: 0 24px 90px rgba(0,0,0,.6);
}
h1{margin:0 0 8px;font-size:18px;letter-spacing:.4px}
p{margin:10px 0;line-height:1.55;color:rgba(245,250,255,.80)}

.btn{
  pointer-events:auto;
  display:inline-flex;align-items:center;gap:10px;
  padding:10px 14px;border-radius:14px;
  border:1px solid rgba(255,255,255,.16);
  background: linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.08));
  color:rgba(245,250,255,.94);
  cursor:pointer;user-select:none;
  box-shadow:
    0 12px 30px rgba(0,0,0,.25),
    0 2px 0 rgba(255,255,255,.12) inset;
  transition: all 0.2s ease;
}
.btn:hover{filter:brightness(1.06)}
.btn:active{transform:translateY(1px)}

/* Gamepad Focus Styling */
.btn.gamepad-focused {
  border: 2px solid rgba(77,227,255,0.9);
  background: linear-gradient(180deg, rgba(77,227,255,.25), rgba(77,227,255,.15));
  box-shadow:
    0 12px 30px rgba(0,0,0,.25),
    0 2px 0 rgba(77,227,255,.3) inset,
    0 0 20px rgba(77,227,255,.4);
  transform: scale(1.05);
}
.btn.gamepad-focused:hover {
  filter: brightness(1.1);
}

.small{font-size:12px;color:rgba(245,250,255,.62)}
#overheatText{color:rgba(255,59,107,.95);font-weight:800;letter-spacing:.6px}

/* Dev Mode Button */
.dev-mode-btn{
  position: fixed;
  top: 20px;
  left: 20px;
  z-index: 1000;
  padding: 8px 16px;
  border-radius: 8px;
  border: 1px solid rgba(255, 209, 102, 0.5);
  background: rgba(20, 25, 40, 0.8);
  color: rgba(255, 209, 102, 0.9);
  font-family: 'Orbitron', ui-sans-serif, system-ui, sans-serif;
  font-size: 12px;
  font-weight: 600;
  letter-spacing: 0.5px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.dev-mode-btn:hover{
  background: rgba(20, 25, 40, 0.95);
  border-color: rgba(255, 209, 102, 0.8);
  color: rgba(255, 209, 102, 1);
  box-shadow: 0 0 10px rgba(255, 209, 102, 0.3);
}

/* Volume Slider Styles */
.volume-slider {
  width: 100%;
  height: 8px;
  border-radius: 4px;
  background: rgba(255, 255, 255, 0.1);
  outline: none;
  -webkit-appearance: none;
  appearance: none;
  cursor: pointer;
  border: 1px solid rgba(255, 255, 255, 0.12);
}

.volume-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent), var(--good));
  cursor: pointer;
  border: 2px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
  transition: all 0.2s ease;
}

.volume-slider::-webkit-slider-thumb:hover {
  transform: scale(1.15);
  box-shadow: 0 0 12px rgba(76, 227, 255, 0.6);
}

.volume-slider::-moz-range-thumb {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent), var(--good));
  cursor: pointer;
  border: 2px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
  transition: all 0.2s ease;
}

.volume-slider::-moz-range-thumb:hover {
  transform: scale(1.15);
  box-shadow: 0 0 12px rgba(76, 227, 255, 0.6);
}

.volume-slider::-webkit-slider-runnable-track {
  width: 100%;
  height: 8px;
  border-radius: 4px;
  background: rgba(255, 255, 255, 0.1);
}

.volume-slider::-moz-range-track {
  width: 100%;
  height: 8px;
  border-radius: 4px;
  background: rgba(255, 255, 255, 0.1);
}

